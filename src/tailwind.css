@tailwind base;
@tailwind components;

@layer components {
	body {
		--brand-accent: theme('colors.indigo.700');

		/* https://ishadeed.com/article/defensive-css */
		overflow-wrap: break-word;
		overflow-y: auto;
		scrollbar-gutter: stable;
	}
	.dark body {
		--brand-accent: theme('colors.blue.300');
	}
	:root {
		accent-color: var(--brand-accent);
	}
	:focus-visible {
		outline-color: var(--brand-accent);
	}
	::selection {
		color: theme('colors.sky.200');
		background-color: var(--brand-accent);
	}
	.dark ::selection {
		color: theme('colors.slate.900');
	}
	::marker {
		color: var(--brand-accent);
	}
	.text-accent {
		color: var(--brand-accent);
	}

	:is(::-webkit-calendar-picker-indicator, ::-webkit-clear-button, ::-webkit-inner-spin-button, ::-webkit-outer-spin-button) {
		color: var(--brand-accent);
	}

	/* https://css-tricks.com/two-issues-styling-the-details-element-and-how-to-solve-them/ */
	details {
		border: 2px solid var(--brand-accent);
		padding: 0.5rem 1rem;
	}
	details > summary {
		cursor: pointer;
	}

	details > summary > *:first-child {
		display: inline;
	}

	img {
		/* https://ishadeed.com/article/defensive-css */
		max-width: 100%;
		object-fit: cover;
		background-color: grey;
	}

	/* Links highlight from bottom */
	.footer-link,
	.prose a {
		@apply from-indigo-700 to-indigo-700 dark:from-yellow-400 dark:to-yellow-400;
		@apply text-indigo-700 hover:text-sky-200 dark:text-yellow-400 dark:hover:text-slate-900;

		cursor: pointer;
    text-decoration: none;
    padding: 1px 4px;
		background: linear-gradient(to bottom, var(--tw-gradient-from) 0%, var(--tw-gradient-to) 100%);
    background-position: 0 100%;
    background-repeat: repeat-x;
    background-size: 4px 2px;
    transition: all .3s linear;
	}
	.footer-link:hover,
	.prose a:hover {
		background-size: 4px 50px;
	}
}


.prose h1 a {
	@apply text-lime-800 hover:text-lime-800 dark:text-yellow-400 dark:hover:text-yellow-400;
	background: unset;
}
.prose h2 a, .prose h3 a, .prose h4 a {
	background: unset;
	color: var(--brand-accent) !important;
}
.prose h2::before,
.prose h3::before,
.prose h4::before {
	content: '#';
	color: var(--brand-accent);
	margin-left: -2rem;
	margin-right: 1rem;
}

/* https://seek-oss.github.io/capsize/ */
.capsize::before {
	content: '';
	margin-bottom: -0.098em;
	display: table;
}

.capsize::after {
	content: '';
	margin-top: -0.219em;
	display: table;
}

/*
  CUSTOM SCROLLBARS!
  - https://css-tricks.com/strut-your-stuff-with-a-custom-scrollbar/
  */
body {
	--sb-primary-color: theme('colors.yellow.400');
	--sb-accent-color: theme('colors.blue.500');
	--sb-track: theme('colors.sky.900');
}
.dark body {
	--sb-primary-color: #2ecd8d;
	--sb-accent-color: #4E2ECD;
}
body::-webkit-scrollbar {
	width: 1rem;
}
body::-webkit-scrollbar-track {
	background: var(--sb-track);
}
body::-webkit-scrollbar-thumb {
	background: linear-gradient(var(--sb-primary-color), var(--sb-accent-color));
	border-radius: 4px;
}

@tailwind utilities;
